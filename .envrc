# .envrc
layout_uv() {
  local venv_path="${UV_PROJECT_ENVIRONMENT:-.venv}" # Default to .venv if UV_PROJECT_ENVIRONMENT not set

  if [[ ! -d "$venv_path" ]]; then
    log_status "Creating uv virtual environment at $venv_path"
    uv venv "$venv_path"
  fi

  # Activate the uv virtual environment
  source "$venv_path/bin/activate"

  # Optional: Set UV_ACTIVE to indicate uv environment is active
  export UV_ACTIVE=1
}

layout_uv
